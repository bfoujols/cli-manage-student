#!/usr/bin/env php
<?php

// Send errors to stderr, not stdout.
ini_set('display_errors', 'stderr');

// Avoid displaying PHP errors twice.
ini_set('log_errors', '0');

// hide PHP 8.1 deprecations
error_reporting(E_ALL & ~E_DEPRECATED);

if (version_compare(PHP_VERSION, '7.0', '<')) {
    printf("This tool requires at least PHP7.0. You currently have %s installed. Please upgrade your PHP version.\n", PHP_VERSION);
    exit(1);
}

if (file_exists(__DIR__ . '/../vendor/autoload.php')) {
    require __DIR__ . '/../vendor/autoload.php';
} else {
    fwrite(STDERR, 'ERROR: Composer dependencies not properly set up! Run "composer install" or see README.md for more details' . PHP_EOL);
    exit(1);
}

define('ROOT_PATH', realpath('.'));

$application = new \ManageStudent\App();
$application->run();
